# Only for test on docker desktop !!! WARNING !!!
# This file is only for testing on docker desktop, it is not used in the production environment.
version: "3.8"
services:
    # be.api:
    #     image: beapi
    #     container_name: be-api
    #     build:
    #         context: .
    #         dockerfile: Dockerfile
    #     environment:
    #         - OTEL_EXPORTER_OTLP_ENDPOINT=${OTEL_EXPORTER_OTLP_ENDPOINT}
    #         - OTEL_EXPORTER_OTLP_PROTOCOL=${OTEL_EXPORTER_OTLP_PROTOCOL}
    #     networks:
    #         - backend

    # be.mysql:
    #     image: mysql:latest
    #     container_name: BE.MySQL
    #     environment:
    #         - MYSQL_DATABASE=${MYSQL_DATABASE}
    #         - MYSQL_USER=${MYSQL_USER}
    #         - MYSQL_PASSWORD=${MYSQL_PASSWORD}
    #     ports:
    #         - 3307:3306
    #     networks:
    #         - backend

    # seq:
    #     image: datalust/seq:latest
    #     container_name: be-seq
    #     environment:
    #         - ACCEPT_EULA=Y
    #     ports:
    #         - 5341:5341 # Logging
    #         - 8081:80 # Web UI chạy trên cổng 8081
    #     networks:
    #         - backend

    rabbitmq:
        image: rabbitmq:3-management
        ports:
            - 5672:5672
            - 15672:15672
        environment:
            - RABBITMQ_DEFAULT_USER=${RABBITMQ_USER}
            - RABBITMQ_DEFAULT_PASS=${RABBITMQ_PASS}
        networks:
            - backend

    # redis:
    #     image: redis
    #     ports:
    #         - 6379:6379
    #     networks:
    #         - backend
    #     environment:
    #         - REDIS_HOST=${REDIS_HOST}
    #         - REDIS_PORT=${REDIS_PORT}

networks:
    backend:
        driver: bridge
